# React + Unity WebGL Integration

This README provides detailed instructions to integrate a React application with a Unity WebGL build so they can run together in the browser.

## **1. Build and Organize Files**

### **React Build**
1. Build your React project:
   ```bash
   npm run build
   ```
2. Locate the `build` folder generated by React. This contains the static files for deployment.

### **Unity WebGL Build**
1. Build your Unity project for WebGL:
   - Go to `File > Build Settings` in Unity.
   - Select `WebGL` as the platform.
   - Click `Switch Platform` (if not already selected).
   - Click `Build` and choose a folder (e.g., `Build/WebGL`).
2. The output folder will contain:
   - `index.html`
   - `Build/`
   - `TemplateData/`

### **Combine the Builds**
1. Copy the Unity WebGL build folder (`Build/`, `TemplateData/`, and `index.html`) into the `public` directory of your React project.
2. Ensure the Unity files are in a folder named `unity` inside `public`:
   ```
   my-react-app/
   ├── public/
   │   ├── unity/
   │   │   ├── index.html
   │   │   ├── Build/
   │   │   └── TemplateData/
   ```

---

## **2. Update Unity WebGL Routes**
1. Open `public/unity/index.html` and ensure all asset paths are relative:
   ```html
   <script src="./Build/UnityLoader.js"></script>
   ```

2. Verify that the paths point correctly to the assets within the `unity` folder.

---

## **3. Embed Unity in React**
1. Open `src/App.js` (or your main React component).
2. Add an iframe to load the Unity WebGL `index.html`:
   ```jsx
   import React from 'react';

   const App = () => {
     return (
       <div>
         <h1>React + Unity WebGL</h1>
         <iframe
           src="/unity/index.html"
           width="100%"
           height="600px"
           style={{ border: 'none' }}
           title="Unity WebGL"
         ></iframe>
       </div>
     );
   };

   export default App;
   ```
3. Start your React development server:
   ```bash
   npm start
   ```
4. Open the browser to verify Unity is displayed within the iframe.

---

## **4. Communication Between React and Unity (Optional)**

### **React to Unity**
Use `window.UnityInstance.SendMessage` to send messages to Unity objects:
```jsx
const sendMessageToUnity = () => {
  window.UnityInstance.SendMessage("GameObjectName", "MethodName", "Message");
};
```

### **Unity to React**
1. In Unity, use `Application.ExternalCall` to call JavaScript functions defined in React:
   ```csharp
   Application.ExternalCall("functionInReact", "MessageFromUnity");
   ```

2. Define the function in React:
   ```jsx
   window.functionInReact = (message) => {
     console.log("Message from Unity:", message);
   };
   ```

---

## **5. Deploy to Production**
1. Build the React project for production:
   ```bash
   npm run build
   ```

2. Deploy the contents of the `build` folder (including the Unity files in `public/unity`) to a hosting service, such as:
   - **Vercel**
   - **Netlify**
   - **AWS S3**

3. Verify that `/unity/index.html` loads correctly in production.

---

## **File Structure Overview**
After integration, your project structure should look like this:
```
my-react-app/
├── public/
│   ├── unity/
│   │   ├── index.html
│   │   ├── Build/
│   │   └── TemplateData/
├── src/
│   ├── App.js
├── build/  (generated after `npm run build`)
└── package.json
```

---

## **Notes**
- Ensure all asset paths in Unity's `index.html` are correct.
- Test thoroughly in both development and production environments.
- If issues arise, check the browser's developer console for errors related to paths or loading assets.


## Contributing

We welcome contributions to this project! If you'd like to contribute, please follow these guidelines:

1. **Fork the Repository**:  
   Click on the "Fork" button at the top of this repository to create your own copy.

2. **Create a Feature Branch**:  
   Create a new branch for your feature or bugfix.

   ```bash
   git checkout -b feature/your-feature-name
   ```

3. **Submit a Pull Request**:  
   Once your changes are ready, submit a pull request to the `main` branch. Be sure to include a detailed description of your changes and the problem they solve.

## License

This project is licensed under the MIT License. See the LICENSE file for details.